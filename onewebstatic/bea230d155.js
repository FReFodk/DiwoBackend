!function(a){function b(a,b){return Object.keys(b).some(function(a){return a.split("_copy").length>1})}function c(b){return a(b.parentNode).attr("data-id")}function d(b){var d=a(".image-container .col"),e="";return d.each(function(d,f){var g=a(f).parents(".image-container")[0],h=parseFloat(a(g).attr("data-height")),i=parseFloat(a(g).attr("data-width")),j=a(g.parentNode),k=c(g);if("Component"===j.attr("data-kind")){var l=a(g).outerWidth(),m=l*(h/i);e+='div[data-id="'+k+'"] .imgFixRatio {height: '+h+"px !important;width: "+i+"px !important;min-height: "+Math.min(h,m)+"px !important;max-height: "+m+"px;}"}else if(j.hasClass("stretched")||"block"!==j.attr("data-kind").toLowerCase()||b[k]){var n=a(g).outerWidth()*(h/i);e+='div[data-id="'+c(g)+'"] .imgFixRatio { min-height: '+n+"px !important;}"}else{var o=j.hasClass("mobileTopLevelComponents"),p=a(g).outerWidth(),q=p*(h/i);e+='div[data-id="'+k+'"] .imgFixRatio {height: '+h+"px !important;width: "+i+"px !important;min-height: "+Math.min(h,q)+"px !important;max-height: "+q+"px;}",e+='div[data-id="'+k+'"] {display: flex;justify-content: center;}',o&&(e+='div[data-id="'+k+'"] {padding-left: 18px;padding-right: 18px;}')}a(g).addClass("imgFixRatio")}),e}function e(){var b=a('iframe[data-kind="VIDEO"]'),d="";return b.each(function(b,e){var f=a(e).outerWidth()*(parseFloat(e.height)/parseFloat(e.width));d+='div[data-id="'+c(e)+'"] .videoFixRatio { height: '+f+"px;} ",a(e).addClass("videoFixRatio")}),d}function f(){var b=a(".code-component-container"),c="";return b.filter(function(b,c){return!a(c).data("location")}).each(function(b,d){var e=a(d),f=e.attr("id");c+="div#"+f+" { width: 100%;} "}),c}function g(b){var c=d(b);c+=e(),c+=f(),a('<style data-dynamicStyle type="text/css">'+c+"</style>").appendTo("head")}function h(b,c,d,e){Object.keys(d).forEach(function(d){var e=d.split("_");if(e.length>1)if(c[e[0]])c[d]=a(c[e[0]][0].cloneNode(!0));else for(var f=0;f<b.length;f++){var g=b[f].getAttribute("data-id");if(g===e[0]){c[d]=a(b[f].cloneNode(!0));break}}})}function i(){return a(window).width()}function j(){a(window).trigger("changed-to-mobile-view")}function k(a){var b=a.attr("style")||"",c=b.match(/font-size:[\s\w\.%]*!important;?/);c&&(c.forEach(function(a){b=b.replace(a,"")}),a.attr("style",b))}function l(){var b=a(".mobile-title");if(b.length){var c=function(c){var d=c.width(),e=b.width();if(d>e){var f=e/d;a(c).css({textAlign:"center",transform:"scale("+f+")",transformOrigin:"left center"})}},d=b.children();window.addEventListener("load",function(){d.css({textAlign:"",transform:"",transformOrigin:""}),c(d)}),c(d)}}function m(){function c(){if(!s){var c,d,i,q=a("div[data-id][data-kind$='Block']"),r=a("div[data-id][data-kind$='Component']"),v={},w={},x={},y={},z=function(b,e,f,g){for(c=0;c<b.length;c++)d=b[c].getAttribute("data-id"),(f&&f[d]||g)&&(e[d]=a(b[c]).detach())};a(document.body).addClass("mobileMenu");var A={};Object.keys(f).forEach(function(a){A[a]=!0,f[a].forEach(function(a){A[a]=!0,k[a]&&k[a].forEach(function(a){A[a]=!0})})}),Object.keys(m).forEach(function(c){for(var d=a('div[data-id="'+c+'"] .mceNonEditable div[data-specific-kind]'),e=0;e<d.length;e++){var f=a(d[e]);f.hasClass("mobileDown")||(A[f.attr("data-id")]=!1)}m[c].forEach(function(a){A[a]&&(b(a,A)?A[a]=!1:A[a]=!0)})}),z(r,v,A),z(q,w,A),Object.keys(k).forEach(function(b){var c=b.split("-"),d="mobileGroup "+c[0]+"-"+c[1],e=t[b]||{},f=e.align,g=e.scale,h=e.style,i=e.font,j=k[b].reduce(function(a,b){return a[b]=!0,a},{});d+=f?" align-"+f:"",z(r,y,j),x[b]=a("<div></div>").addClass(d),k[b].forEach(function(a){var c=y[a];if(g){g=Math.min(g,100);var d=c.find("img"),e=c.find("> div"),f=e.data("width"),j=e.data("height"),k=d.data("width"),l=d.data("height"),m=f*g/100,n=j*g/100,o=Math.round(m),p=Math.round(n),q=k*g/100,r=l*g/100,s=Math.round(q),t=Math.round(r),u=1e-4;o-m<=u&&(m=o),p-n<=u&&(n=p),s-q<=u&&(q=o),t-r<=u&&(r=p),e.width(m),e.height(n),d.width(q),d.height(r)}h&&h[a]&&Object.keys(h[a]).forEach(function(b){c[0].style[b]=h[a][b]}),i&&"TEXT"===c.attr("data-specific-kind")&&c.children().attr("data-mve-font-change",i),x[b].append(c)})}),h(q,w,A,f);var B=function(b,c,d){var e=f[b],g=c;if(e){if(!d){var h=c||w[b];h&&"TEXT"!==a(h).attr("data-specific-kind")&&(i=h.find(".col")[0],i?(a(i).addClass("mobile-moved-hidden").css("display","none"),g=a(i.parentNode)):(g=a(h).find("div:last").first(),g&&(g.data("opacity")||g.data("large-image"))&&(g=g.parent()),g.addClass("hasChildren")))}if(e.length){var j=a("<div></div>").addClass("extraContainer");j.css({overflow:"auto",position:"relative"}),g.append(j),g=j,e.forEach(function(b){var c=w[b]||v[b]||x[b];if(c){c.addClass("mobile-moved"+(d?" mobileTopLevelComponents":"")),a(c).find(".stretched").length&&c.addClass("stretched");var e=a("<div></div>").addClass("extra");n[b]&&e.css(n[b]);var f=g[0].appendChild(e[0]);f.appendChild(c[0]),B(b,a(c[0]))}})}}};B(e,a(p),!0),setTimeout(function(){o(t,a(p))}),l(),a(p).addClass("mobileV mobileViewLoaded"),a(document.body).addClass("mobileV mobileViewLoaded"),g(f),a(u).addClass("mobileViewLoadedPublishOnlyComponents"),j()}}var d=window._mobileEditorData,e=d.root,f=d.data,k=d.groups,m=d.wrappedCmpsMap,n=d.styles,t=d.settings,u=a(".publishOnlyComponents");try{c()}finally{a(p).css("visibility","visible"),a().isMobileWidth()?(a(document.documentElement).css("overflow-x","hidden"),a(document.body).css("overflow-x","hidden"),a(document.body).css("overflow-y","inherit")):a(document.body).css("overflow-x","auto")}var v=i();a(window).resize(function(){if(q&&r){var b=i(),c=a("html").hasClass("shinybox-html");v===b||c||(v=b,g(f),j())}})}var n=function(b,c){var d=b.find("*").toArray().reverse();d.forEach(function(b){var d=a(b),e=parseFloat(d.css("fontSize")),f=b.classList.toString().split(" ").filter(function(a){return a.match(/mobile-((oversized)|(undersized))[\w-]*/g)}).join(" ");d.removeClass(f),k(d),e+=c,d.css({"font-size":(e>9?e:9)+"px"})})},o=function(b,c){var d=c.find("[data-mve-font-change]");d.each(function(){var b=a(this),c=b.data("mveFontChange");n(b,c)})},p=a(".template"),q=a(p).data("mobile-view"),r=a().isMobileWidth(),s=!q||!r;m(),window.runMobileSort=m}(oneJQuery),function(a){function b(a){var b=document.documentElement.scrollHeight,c=!1;return function d(){if(!c){var e=document.documentElement.scrollHeight;b!==e&&(a(b),b=e),window.requestAnimationFrame(d)}}(),function(){c=!0}}history.scrollRestoration="manual",function(){function c(){f=!0}function d(c,e){if(!f)if(i.getBoundingClientRect().top===e)var g=b(function(){return f?void g():void a.fn.scrollIntoView(i,e,null,0)});else a.fn.scrollIntoView(i,e,d)}var e,f=!1,g=window.localStorage.getItem("previewHash"),h=window.location.hash.substr(1)||g,i=document.body.querySelector('div[data-specific-kind=STRIP][data-id="'+h+'"]');window.localStorage.setItem("previewHash",""),i=i||document.getElementById(h),e=i&&i.id,document.addEventListener("wheel",c),a(window).on("load",c),e&&(a.fn.removeHash(),window.scrollTo(0,0),history.replaceState(null,null,"#"+e),a.fn.scrollIntoSection(e,d))}(),window.addEventListener("popstate",function(){var b=location.hash.substr(1);a.fn.scrollIntoSection(b)})}(oneJQuery),function(a){a(function(){var b=a().isDesktopView();b&&a(document.body).addClass("desktopV"),a(window).trigger("view-chosen",[b])})}(oneJQuery);