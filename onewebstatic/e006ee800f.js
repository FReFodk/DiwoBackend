function getScale(a,b,c,d){var e=b.parentElement.style.width?parseInt(b.parentElement.style.width,10):document.documentElement.offsetWidth-LEFT_PLUS_RIGHT_MARGIN,f=parseInt(b.parentElement.style.height||b.parentElement.style.minHeight||TEXT_MAX_LINE_HEIGHT,10),g=e*parseInt(a.style.width,10)/100,h=f*parseInt(a.style.height,10)/100,i=g/c,j=h/d,k=Math.min(i,j);return k}!function(a){a(window).on("view-chosen",function(b,c){var d="is-sticky",e="sticky-wrapper",f="."+d,g=":not("+f+")",h="on-stick",i="on-unstick",j=Math.max(a(window).height(),window.innerHeight,document.documentElement.clientHeight),k=function(){var b=c?'[data-pin="1"]':'[data-mobile-pin="1"]',k=c?'[data-pin="-1"]':'[data-mobile-pin="-1"]',l=function(a,b){return a>b?1:a<b?-1:0},m=a(b).sort(function(b,c){var d=a(b).offset().top,e=a(c).offset().top;return l(d,e)}),n=a(k).sort(function(b,c){var d=a(b).offset().top+a(b).outerHeight(),e=a(c).offset().top+a(c).outerHeight();return l(d,e)});if(m.length||n.length){a.fn.hasReachedElementTop=function(b){var c=a(this).offset().top,d=a(window).scrollTop()+(b||0);return d>=c},a.fn.hasReachedElementBottom=function(b){var c=a(this).offset().top,d=c+a(this).outerHeight(),e=a(window).scrollTop(),f=e+j-(b||0);return f<=d};var o={},p={},q=function(b){var c={},d=0;return b.each(function(){var b=a(this),e=b.data("id");c[e]=d,d+=b.outerHeight()}),c},r=function(b,c){var d={};return b.each(function(){var b=a(this),e=b.data("id"),f=b.data("pin"),g=b.parents(".float").first().length,h=b.parents(".row").first().find('>div:last-child [data-pin="'+f+'"]');if(g&&h.length){var i=a(h).data("id"),j=a(h).offset(),k=j.top,l=j.top+a(h).outerHeight(),m=b.offset(),n=m.top,o=n+b.outerHeight();c(i,k,l,e,n,o,d)}}),d},s=r(m,function(a,b,c,d,e,f,g){var h=0;b>=e?(h=f-b,g[a]=h):(h=c-e,g[d]=h)}),t=function(b,c){return function(d,e,f){d.each(function(){var d=a(this),g=d.data("id"),h=e[g],i=f[g]||0;b.call(this,h-i)&&c.call(this,h)})}},u=function(b){var c=a(this);c.css(b).removeClass(d),c.parents(".float").first().removeClass(e),c.parent().css({height:"inherit"}).removeClass(e),a(window).trigger(i,[this])},v=function(b){var c=a(this);c.addClass(d).css(b),c.parents(".float").first().addClass(e),c.parent().css({height:c.outerHeight()}).addClass(e),a(window).trigger(h,[this])},w=t(function(b){var c=a(this).parent();return!a(c).hasReachedElementTop(b)},function(){u.call(this,{top:"unset"})}),x=t(function(b){var c=a(this).parent();return!a(c).hasReachedElementBottom(b)},function(){u.call(this,{bottom:"unset"})}),y=t(function(b){var c=a(this).parent();return a(c).hasReachedElementTop(b)},function(a){v.call(this,{top:a})}),z=t(function(b){var c=a(this).parent();return a(c).hasReachedElementBottom(b)},function(a){v.call(this,{bottom:a})}),A=a(a(m).get().reverse());o=q(m);var B=a(a(n).get().reverse());p=q(B);var C=r(n,function(a,b,c,d,e,f,g){var h=0;b>=e&&c>f?(h=f-b,g[d]=h):b<e&&c<f?(h=c-e,g[a]=h):b<=e&&c>=f&&(h=f-b,g[d]=h)}),D=function(){j=Math.max(a(window).height(),window.innerHeight,document.documentElement.clientHeight),w(A.filter(f),o,s),x(n.filter(f),p,C),y(m.filter(g),o,s),z(B.filter(g),p,C)},E=function(){j=Math.max(a(window).height(),window.innerHeight,document.documentElement.clientHeight);var b=function(a,b){var c=q(b),d=Object.keys(c).some(function(b){return c[b]!==a[b]});return d?c:null},c=b(o,m);c&&(o=c);var d=b(p,B);d&&(p=d),w(A,o,s),x(n,p,C),y(m,o,s),z(B,p,C)};D(),c&&a(window).scroll(D).resize(E)}};a(k)})}(oneJQuery),function(a){a.fn.isInViewport=function(){var b=a(this).offset().top,c=b+a(this).outerHeight(),d=a(window).scrollTop(),e=d+a(window).height();return c>d&&b<e};var b=a(window),c=-1,d=b.scrollTop(),e=b.height(),f=function(){var b=a('[data-scroll-effect="parallax"]');b&&b.length&&h(b);var c=a('[data-scroll-effect="reveal"]'),d=navigator.userAgent.match(/Trident\/7\./);if(c.length&&d){var e=a("body");e.on("mousewheel",function(){event.preventDefault();var a=event.wheelDelta,b=window.pageYOffset;window.scrollTo(0,b-a)}).keydown(function(a){var b=window.pageYOffset,c=38,d=40;switch(a.which){case c:a.preventDefault(),window.scrollTo(0,b-120);break;case d:a.preventDefault(),window.scrollTo(0,b+120);break;default:return}})}},g=function(b,c,d){if(b.isInViewport()){var e=b.parents("[data-id]:first"),f=a(e),g=f.height(),h=b.height(),i=h-g,j=b.offset().top,k=c+d,l=(k-j)/((d+h)/100),m=l/100*i-i/2;b.css("transform","translate3d(0px, "+m+"px, 0px)")}},h=function(f){d=b.scrollTop(),c!==d&&(f.each(function(b,c){g(a(c),d,e)}),c=d),window.requestAnimationFrame(h.bind(null,f))};a(window).on("view-chosen",function(b,c){var d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);c&&!d?(a(document.body).addClass("effects"),a(f)):a(document.body).addClass("no-effects")})}(oneJQuery),function(a){function b(a,b){return b.reduce(function(b,c){var d=b[0],e=b[1];return d+c>a?[d+c,e]:[d+c,e+1]},[0,0])[1]}function c(){var a=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.appVersion)[1],10),b=a&&0===navigator.vendor.indexOf("Google"),c=b&&navigator.userAgent.indexOf("Android")>0,d=!c&&b&&0===navigator.platform.indexOf("Linux a")&&"ontouchstart"in document.documentElement;return d}function d(a,b){return b.clientWidth}function e(a){a.last().find("div").remove()}function f(a){var b=a.clone(),c=b.width();return b.hasClass("horizontalalignfit")&&(b.removeClass("horizontalalignfit"),c=b.width()),b.remove(),c}function g(){a(".moreEnabled").each(function(c,g){var h=a(g),i=h.children("ul"),j=i.children("ul > li"),k=j.map(d).toArray(),l=k.length-1,m=f(h),n=k.length-1,o=k[n],p=a(j[n]),q=b(m,k.slice(0,-1));if(q<l+(y?0:1)){var r=b(m-o,k.slice(0,-1)),s=p.children("ul"),t=j.slice(r,n),u=s.children().first().attr("class");e(t),t.attr("class",u),t.children(".level-0").removeClass("level-0").addClass("level-1"),y&&s.children().remove(),t.detach(),s.prepend(t)}else y&&(p.remove(),a(j[n-1]).find(".divider").remove())}),y=!1}function h(a){return a.parents("li")[0]}function i(a){a.addClass("expanded")}function j(a){a.removeClass("expanded")}function k(a){a.addClass("hover")}function l(a){a.removeClass("hover")}function m(a){return 0!==a.parent().find("ul").length}function n(b){return function(c){function d(a){f.parent("li").children("ul").css({left:"right"==a?"100%":"none",right:"left"==a?"100%":"none"})}function e(){function b(){e=g.left-i,d(e<0?"right":"left")}function c(){e=g.left+2*i,d(e>a(window).width()?"left":"right")}var e,g=f.parent("li").offset(),h=f.parent("li").parent("ul").parent("li").offset(),i=f.parent("li").width(),j="div.menu.dropdown",k=f.parents(j).attr("class").split(" ");o(k)&&g.left===h.left&&(h=t),p(k)?g.left<=h.left?b():c():g.left>=h.left?c():b()}for(var f=a(c),g=m(f),n=h(a(h(f))),q=n,s=[],u=0;q!==b;){if(u>100)throw new Error("Can't find subMenuLiClone as parent");var v=a(q),w=a(v.find("> a"));s.push(w),q=h(v),u++}g&&r&&f.on("click",function(a){var b=f.data("isSecondTimeClicked");if(!b)return f.data("isSecondTimeClicked",!0),a.stopPropagation(),!1}),f.mouseenter(function(){g&&(i(f),e()),k(f),s.forEach(function(a){a.parent("li").css({"z-index":2}),i(a),k(a)})}),f.mouseleave(function(){g&&(j(f),r&&f.data("isSecondTimeClicked",!1)),l(f),s.forEach(function(a){a.parent("li").css({"z-index":1}),j(a),l(a)})})}}function o(a){return a.some(function(a){return"menuvertical"===a})&&a.some(function(a){return"dropdown"===a})}function p(a){return a.some(function(a){return"menuhorizontalright"===a})}function q(){var b="wsbmenuhide",c="div.menu.dropdown",d=250;a(c+" > ul > li").each(function(e,f){var g=a(f),h=g.find("ul")[0];if(h){r&&g.on("click",function(a){var b=g.data("isSecondTimeClicked");if(!b)return g.data("isSecondTimeClicked",!0),a.stopPropagation(),!1});var p=g.find("> a"),q=m(p),s=g.parents(c).attr("class"),y=g.parent("ul").attr("class"),z=a(h),A=a(g.parent("ul")[0]),B=a(document.createElement("div"));B.css({position:"absolute",zIndex:1e4,left:0,top:0,height:"0px",display:"block"}),B.addClass(s),B.addClass("jsdropdown");var C=a(document.createElement("ul")),D=a(document.createElement("li")),E=n(D[0]);C.addClass(y),C.css({border:0}),D.css("position","absolute"),B.append(C),C.append(D),a(document.body).append(B);var F;g.mouseenter(function(c){r&&g.data("isSecondTimeClicked",!1),x&&(clearTimeout(x),w()),v&&(clearTimeout(v),u()),q&&i(p),t=g.offset(),k(g);var d=z.offset(),e=z.width(),f=B.attr("class").split(" ");l(g),f.some(function(a){return"menuvertical"===a})&&f.some(function(a){return"menuhorizontalright"===a})||(e=0);var h=a(".template").offset();F=z.clone(),D.append(F);var j=D.find("a").toArray();j.forEach(E),k(D),k(p),z.addClass(b);var m=o(f),n=d.left-parseInt(A.css("padding-left"),10)+e;!m&&n+F.width()>a(window).width()&&(n=a(window).width()-F.width()),o(f)&&(n+A.width()+F.width()>a(window).width()?n-=A.width():n+=A.width()),B.css({left:n,top:d.top-parseInt(A.css("padding-top"),10)-h.top});var s=D.find("> ul > li"),y=D.find("> ul > li > a"),C=s.map(function(a,b){return oneJQuery(b).width()}),G=Math.max.apply(null,C);y.css("width",G);var H=D.find("> ul li");H.mouseenter(function(b){var c=a(b.target).parent("li"),d=c.find("> ul > li"),e=c.find("> ul > li > a"),f=d.map(function(a,b){return oneJQuery(b).width()}),g=Math.max.apply(null,f);e.css("width",g)})}),g.mouseleave(function(c){u=function(){j(p),l(p),z.removeClass(b);var d=a.contains(B[0],c.relatedTarget);d||(l(D),F.remove()),v=null},v=setTimeout(function(){u()},d)}),B.mouseenter(function(){return v&&clearTimeout(v),x?clearTimeout(x):(i(p),void k(p))}),B.mouseleave(function(){w=function(){j(p),l(D),l(p),F.remove(),x=null},x=setTimeout(function(){w()},d)})}})}var r=c(),s=!1;a(".moreEnabled").each(function(b,c){var d=a(c);d.css("display",""),s=!0});var t,u,v,w,x,y=!0;if(s){g();var z=200,A=setInterval(function(){g(),--z,z||clearInterval(A)},100)}q()}(oneJQuery),window.oldjQuery=window.jQuery,window.jQuery=window.oneJQuery,/*---------------------------------------------------------------------------------------------

@author       Constantin Saguin - @brutaldesign
@link         http://csag.co
@github       http://github.com/One-com/shinybox
@version      5.1.0
@license      MIT License

----------------------------------------------------------------------------------------------*/
function(a){"object"==typeof exports?module.exports=a(require("jQuery")):"function"==typeof define&&define.amd?define(["jquery"],a):window.Shinybox=a(jQuery)}(function(a){!function(a,b,c,d){function e(a,b){function d(a){if("slide current"===a.target.parentNode.className)return!1;a.preventDefault(),a.stopPropagation(),i.ui&&i.ui.destroy();var b=c(this),d="data-rel",e=b.attr(d);e||(d="rel",e=b.attr(d));var j;j=e&&"nofollow"!==e?h.filter("["+d+'="'+e+'"]'):c(l);var m=Array.prototype.filter.call(j,function(a){return!c(a).data("ignore")}),n="undefined"!=typeof b.data("dom-index")?b.data("dom-index")-c(m[0]).data("dom-index"):c(m).index(b),o=Array.prototype.map.call(m,function(a){var b=c(a);return{href:b.attr("href")||null,title:b.attr("title")||null,caption:b.attr("caption")||null,srcset:b.attr("data-srcset")||null}});g=c(a.target),i.ui=new f(o,k),g.trigger("shinybox-start"),i.ui.openWithSlide(n)}var g,h,i=this instanceof e?this:{},k=c.extend({},r,b),l=a.selector;return k.afterDestroy=function(){g.trigger("shinybox-destroy"),i.ui=null},c.isArray(a)?(g=j,i.destroy=function(){i.ui&&i.ui.destroy()},i.refresh=function(){i.destroy(),i.ui=new f(a,k),g.trigger("shinybox-start"),i.ui.openWithSlide(k.initialIndexOnArray)}):(i.destroy=function(){h&&h.off("click",d),i.ui&&i.ui.destroy()},i.refresh=function(){i.destroy(),h=a,k.sort&&h.sort(k.sort),h.on("click",d)}),i.refresh(),i}function f(a,b){this.slides=a,this.settings=b,this.currentX=0,this.build()}function g(){}function h(){var a=["transition","WebkitTransition","MozTransition","OTransition","msTransition","KhtmlTransition"];return a.some(function(a){return b.createElement("div").style[a]!==d})}function i(){return{width:a.innerWidth?a.innerWidth:j.width(),height:a.innerHeight?a.innerHeight:j.height()}}var j=c(a),k=c("html"),l=c(b.body),m=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),n=null!==m||b.createTouch!==d||"ontouchstart"in a||"onmsgesturechange"in a||navigator.msMaxTouchPoints,o=(!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,h()),p=i(),q=[function(){p=i()}];j.resize(function(a){q.forEach(function(b){b(a)})}),"onorientationchange"in a&&a.addEventListener("orientationchange",function(){p=i()},!1);var r={id:"shinybox-overlay",useCSS:!0,noTitleCaptionBox:!1,hideCloseButtonOnMobile:!1,loopAtEnd:!1,showNavigationsOnMobile:!1,initialIndexOnArray:0,sort:null,videoMaxWidth:1140,autoplayVideos:!1,vimeoColor:"CCCCCC",queryStringData:{},beforeOpen:g,afterClose:g,afterMedia:g,afterSlide:g,verticalSwipeDisable:!1};return f.prototype.build=function(){this.overlay=c('<div id="'+this.settings.id+'"  class="shinybox-overlay" />'),this.closeButton=c('<a class="shinybox-close" />'),this.captionBox=c('<div class="shinybox-caption captionTitle"></div>'),this.caption=c('<p class="caption"></p>'),this.title=c('<p class="title"></p>'),this.captionBox.append(this.title,this.caption),this.navigationContainer=c('<div class="navigationContainer"></div>'),this.slider=c('<div class="shinybox-slider"></div>'),this.prevButton=c('<a class="shinybox-prev" />'),this.nextButton=c('<a class="shinybox-next" />'),this.navigationContainer.append(this.prevButton,this.nextButton),this.overlay.append(this.slider,this.closeButton,this.captionBox,this.navigationContainer),m&&this.overlay.addClass("mobile-view"),this.settings.noTitleCaptionBox&&this.overlay.addClass("noTitleCaptionBox"),this.settings.showNavigationsOnMobile||this.navigationContainer.addClass("hideMe"),l.append(this.overlay),this.slides.forEach(function(){this.slider.append('<div class="slide"></div>')},this),this.slideElements=this.slider.find(".slide"),this.updateDimensions(),this.setupButtonNavigation(),this.setupGestureNavigation(),this.setupKeyboardNavigation(),this.setupWindowResizeEvent()},f.prototype.doCssTrans=function(){return this.settings.useCSS&&o},f.prototype.updateDimensions=function(){c.extend({},p)},f.prototype.setupButtonNavigation=function(){var a=this;this.slides.length<2?this.navigationContainer.hide():(this.prevButton.on("click touchend",function(b){b.preventDefault(),b.stopPropagation(),a.getPrev()}),this.nextButton.on("click touchend",function(b){b.preventDefault(),b.stopPropagation(),a.getNext()})),this.closeButton.on("click touchend",function(b){b.preventDefault(),b.stopPropagation(),a.destroy()}),this.slideElements.click(function(b){b.target===this&&b.target.children.length>=1&&a.destroy()})},f.prototype.setupGestureNavigation=function(){if(n){var a,b,d,e,f,g,h=this,i=!1,j=!1,k=10,l=50,m={},o={},q=function(c){if(c.preventDefault(),c.stopPropagation(),o=c.originalEvent.targetTouches[0],!j&&!h.settings.verticalSwipeDisable&&(f=d,d=o.pageY-m.pageY,Math.abs(d)>=l||i)){var n=.75-Math.abs(d)/h.slider.height();h.slider.css({top:d+"px",opacity:n}),i=!0}e=b,b=o.pageX-m.pageX,g=100*b/p.width,!j&&!i&&Math.abs(b)>=k&&(h.slider.addClass("notransition"),j=!0),j&&(0<b?h.moveSlider(h.currentX+(0===a?4:g)):0>b&&h.moveSlider(h.currentX+(h.slides.length===a+1?-4:g)))},r=null,s=0;this.overlay.on("touchstart",function(b){return b.originalEvent.touches&&b.originalEvent.touches.length>1?(c(this).off("touchmove",q),!0):(b.preventDefault(),b.stopPropagation(),a=h.getCurrentIndex(),o=b.originalEvent.targetTouches[0],r=b.originalEvent.targetTouches,s=r.length,m.pageX=b.originalEvent.targetTouches[0].pageX,m.pageY=b.originalEvent.targetTouches[0].pageY,h.moveSlider(h.currentX),void c(this).on("touchmove",q))}),this.overlay.on("touchend",function(a){if(a.originalEvent.touches&&a.originalEvent.touches.length>1)return c(this).off("touchmove",q),!0;a.stopPropagation(),h.slider.removeClass("notransition"),d=o.pageY-m.pageY,b=o.pageX-m.pageX;var g=1===s;if(i&&!h.settings.verticalSwipeDisable)if(i=!1,Math.abs(d)>=2*l&&Math.abs(d)>Math.abs(f)&&g){var n=d>0?h.slider.height():-h.slider.height();h.slider.animate({top:n+"px",opacity:0},300,function(){h.destroy()})}else h.slider.animate({top:0,opacity:1},300);else j&&(j=!1,b>=k&&b>=e&&g?h.getPrev():b<=-k&&b<=e&&g&&h.getNext());h.moveSlider(h.currentX),c(this).off("touchmove",q)})}},f.prototype.setupKeyboardNavigation=function(){var a=this;this._keyDownEvent=function(b){return!a.isOpen||void(37===b.keyCode||8===b.keyCode?(b.preventDefault(),b.stopPropagation(),a.getPrev()):39===b.keyCode?(b.preventDefault(),b.stopPropagation(),a.getNext()):27===b.keyCode&&(b.preventDefault(),b.stopPropagation(),a.destroy()))},j.on("keydown",this._keyDownEvent)},f.prototype.setupWindowResizeEvent=function(){var a=this;this.resizeIndex=q.push(function(){a.updateDimensions()})-1},f.prototype.validateIndex=function(a){return a<0||a>this.slides.length-1?0:a},f.prototype.getCurrentIndex=function(){return this.slideElements.index(this.slideElements.filter(".current"))},f.prototype.moveSlider=function(a){this.doCssTrans()?this.slider.css({left:a+"%"}):this.slider.animate({left:a+"%"})},f.prototype.setSlide=function(a,b){b=b||!1,a=this.validateIndex(a),this.currentX=100*-a,this.moveSlider(this.currentX),this.slideElements.removeClass("current"),this.slideElements.eq(a).addClass("current"),this.setTitle(a),b&&this.slider.fadeIn(),this.settings.loopAtEnd||(this.prevButton.removeClass("disabled"),this.nextButton.removeClass("disabled"),0===a?this.prevButton.addClass("disabled"):a===this.slides.length-1&&this.nextButton.addClass("disabled")),this.settings.afterSlide(this.slideElements.filter(".current").children(),a)},f.prototype.setTitle=function(a){a=this.validateIndex(a);var b=this.slides[a].title,c=this.slides[a].caption;b||c?this.captionBox.removeClass("noTitleCaption"):this.captionBox.addClass("noTitleCaption"),this.caption.text(c||""),this.title.text(b||"")},f.prototype.openWithSlide=function(a){a=this.validateIndex(a);var b=a<this.slides.length-1?a+1:0,c=a>0?a-1:this.slides.length-1;this.open(),this.setSlide(a),this.preloadMedia(a),(this.settings.loopAtEnd||0!==b)&&this.preloadMedia(b),(this.settings.loopAtEnd||c!==this.slides.length-1)&&this.preloadMedia(c)},f.prototype.getNext=function(){var a=this,b=this.getCurrentIndex(),c=b+1<this.slides.length?b+1:0,d=c+1<this.slides.length?c+1:0;this.settings.loopAtEnd||b+1<this.slides.length?(this.resetIframeInSlide(b),this.setSlide(c),this.preloadMedia(d)):(this.overlay.addClass("rightSpring"),setTimeout(function(){a.overlay.removeClass("rightSpring")},500))},f.prototype.getPrev=function(){var a=this,b=this.getCurrentIndex(),c=b>0?b-1:this.slides.length-1,d=c>0?c-1:this.slides.length-1;this.settings.loopAtEnd||b>0?(this.resetIframeInSlide(b),this.setSlide(c),this.preloadMedia(d)):(this.overlay.addClass("leftSpring"),setTimeout(function(){a.overlay.removeClass("leftSpring")},500))},f.prototype.resetIframeInSlide=function(a){a=this.validateIndex(a);var b=this.slideElements.eq(a).contents().find("iframe");b.length&&b.attr("src",b.attr("src"))},f.prototype.preloadMedia=function(a){a=this.validateIndex(a);var b=this,c=this.slides[a].href,d=this.slides[a].srcset;this.isVideo(c)?this.openMedia(a,c,d):setTimeout(function(){b.openMedia(a,c,d)},300)},f.prototype.openMedia=function(a,b,c){a=this.validateIndex(a);var d=this,e=this.slides[a].title||"",f=this.slides[a].alt||e;if(b||(b=this.slides[a].href),c||(c=this.slides[a].srcset),!b)return!1;var g=this.slideElements.eq(a);this.isVideo(b)?(g.html(this.getVideo(b)),this.settings.afterMedia(g.children(),a)):this.isPDF(b)?(g.html(this.getPDF(b)),this.settings.afterMedia(g.children(),a)):(g.html('<div class="loadingWrapper"><div class="loading"></div></div>'),this.loadMedia(b,c,function(b){b.attr("title",e),b.attr("alt",f),g.html(b),d.settings.afterMedia(g.children(),a)}))},f.prototype.loadMedia=function(a,b,d){if(d=d||g,0===a.trim().indexOf("#"))d(c('<div class="shinybox-inline-container" />').append(c(a).clone()));else{var e=c("<img>").on("load",function(){d(e)});e.attr("src",a),e.attr("srcset",b)}},f.prototype.open=function(){this.isOpen=!0,this.settings.beforeOpen(),k.addClass("shinybox-html"),m&&this.settings.hideCloseButtonOnMobile&&k.addClass("shinybox-no-close-button"),j.trigger("resize")},f.prototype.close=function(){k.removeClass("shinybox-html shinybox-no-close-button"),j.trigger("resize"),this.settings.afterClose(),this.isOpen=!1},f.prototype.destroy=function(){this.close(),j.off("keydown",this._keyDownEvent),q.splice(this.resizeIndex,1),this.overlay.remove(),this.settings.afterDestroy()},f.prototype.isPDF=function(a){return!!a&&a.match(/\.pdf(?:\?|$)/)},f.prototype.getPDF=function(a){var b='<iframe src="'+a+'">';return'<div class="shinybox-pdf-container"><div class="shinybox-pdf">'+b+"</div></div>"},f.prototype.isVideo=function(a){if(a){if(a.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||a.match(/vimeo\.com\/([0-9]*)/)||a.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return!0;if(a.toLowerCase().indexOf("shinyboxvideo=1")>=0)return!0}},f.prototype.parseURI=function(a,d){var e=b.createElement("a"),f={};return e.href=decodeURIComponent(a),e.search&&(f=JSON.parse('{"'+e.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}')),c.isPlainObject(d)&&(f=c.extend(f,d,this.settings.queryStringData)),c.map(f,function(a,b){if(a&&a>"")return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&")},f.prototype.getVideo=function(a){var b="",c=a.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/),d=a.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),e=a.match(/(?:www\.)?vimeo\.com\/([0-9]*)/),f="";return c||d?(d&&(c=d),f=this.parseURI(a,{autoplay:this.settings.autoplayVideos?"1":"0",v:""}),b='<iframe width="560" height="315" src="//'+c[1]+"/embed/"+c[2]+"?"+f+'" frameborder="0" allowfullscreen></iframe>'):e?(f=this.parseURI(a,{autoplay:this.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:this.settings.vimeoColor}),b='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+e[1]+"?"+f+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):b='<iframe width="560" height="315" src="'+a+'" frameborder="0" allowfullscreen></iframe>','<div class="shinybox-video-container" style="max-width:'+this.settings.videomaxWidth+'px"><div class="shinybox-video">'+b+"</div></div>"},c.shinybox=e,c.fn.shinybox=function(a){var b=this.data("_shinybox");if(b&&"destroy"===a)return b.destroy(),this.removeData("_shinybox");if(!b){var c=new e(this,a);this.data("_shinybox",c)}return this.data("_shinybox")},e}(window,document,a)}),function(a){var b=!1,c=function(c,d){0!==c.length&&c.shinybox({verticalSwipeDisable:!0,beforeOpen:function(){b?a(".shinybox-overlay").addClass("mobile-view"):a(".shinybox-overlay").removeClass("mobile-view")},noTitleCaptionBox:d,sort:function(b,c){if(a(b).length){var d=a(b).offset(),e=a(c).offset();return d.top-e.top!==0?d.top-e.top:d.left-e.left!==0?d.left-e.left:a(b).data("dom-index")-a(c).data("dom-index")}return 1}})},d=function(){var b=a(this);c(b.find(".shinybox"),0===b.find("div[data-captionenabled='true']").length)};a(".shinybox").each(function(b){a(this).attr("data-dom-index",b)}),c(a('div[data-kind="IMAGE"] .shinybox'),!1),a('div[data-kind="GALLERY"]').each(d),a(window).one("changed-to-mobile-view",function(){b=!0})}(oneJQuery),window.jQuery=window.oldjQuery;const TEXT_MAX_LINE_HEIGHT=48;var LEFT_PLUS_RIGHT_MARGIN=36;!function(a){function b(b){a("[data-specific-kind=LOGO]").each(function(a,c){var d=c.querySelector("[data-shadow-render]");if(d&&d.offsetWidth){var e=d.offsetWidth,f=d.offsetHeight,g=c.querySelector("[data-logo-container]"),h=g&&g.firstChild,g=(c.querySelector(".tinyMceContent"),c.querySelector("[data-logo-container]")),i=(g.offsetWidth,g.offsetHeight,getScale(h,c,e,f));g.querySelector("h1").style.setProperty("font-size",1e3*i+"px"),b&&b()}})}function c(){if(2===e)return void clearInterval(d);var a=!1;b(function(){a=!0}),a&&e++}var d,e=0;try{c()}catch(f){console.log("logo failed to initialize",f)}d=setInterval(c,50),setTimeout(function(){clearInterval(d)},3e4),window.onresize=function(){b()}}(oneJQuery),window.OnewebContactForm=function(a){var b,c=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},d=function(a,b){for(var c=a,d=1;b.indexOf(c)!==-1;)c=a+"_"+d,d++;return c};return b=function(a){try{this.init(a)}catch(b){throw new Error("ContactForm Validation initialization failed")}},b.prototype={constructor:window.OnewebContactForm,init:function(b){this.formDOMId=b.formDOMId,this.postURL=b.postURL,this.recipientEmail=decodeURIComponent(b.recipientEmail),this.successMessage=decodeURIComponent(b.successMessage),this.errorMessage=decodeURIComponent(b.errorMessage),this.formElementsErrorMessages=JSON.parse(b.formElementsErrorMessages),this.allFieldErrorMessage=JSON.parse(b.allFieldErrorMessage),this.emailRegex=new RegExp(b.emailRegex,"i"),this.urlRegex=new RegExp(b.urlRegex),this.numberRegex=/^[0-9+\(\)#\.\s]+$/,this.numberQuery='input[ctype="number"],input[type="number"]',this.previewMode=b.previewMode,this.attachSubmitEvent(),this.attachNumberInputValidation(),this.formFieldErrors=[],this.contactFormDOM={},this.formData={recipient:this.recipientEmail,email:this.recipientEmail,subject:decodeURIComponent(b.subject)},this.defaultFormData=a.extend({},this.formData),this.originalCharset=this.getDocumentCharset(),this.attachSubmitEvent()},attachSubmitEvent:function(){a('.oneWebCntForm input[type="submit"]').click(a.proxy(this.validateForm,this))},attachNumberInputValidation:function(){var b=this.numberRegex;a(".contact-form-field-container > "+this.numberQuery).on("input",function(){var c=a(this),d=c.val();if(!b.test(d)){var e="[^"+b.source.replace(/^\^\[(.*?)\]\+\$$/,"$1")+"]",f=d.replace(new RegExp(e,"g"),"");c.val(f)}})},validateForm:function(b){if(b.preventDefault(),b.stopImmediatePropagation(),this.removeSuccessMessageOnFormFields(a("#contactFormResponseContainer")),this.contactFormDOM=a(".oneWebCntForm"),this.removeErrorMessageWarningOnFormFields(this.contactFormDOM),this.setDocumentCharset("ISO-8859-1"),0!==this.getFormValidationErrors(this.contactFormDOM)){var c=a(".contact-form-field-container .error-message")[0];return c&&c.scrollIntoView(),this.setDocumentCharset(this.originalCharset),!1}this.updateFormData(this.contactFormDOM),this.isHiddenFieldEmpty()&&!this.previewMode&&(this.postContactForm(),this.formData=a.extend(!0,{},this.defaultFormData))},removeErrorMessageWarningOnFormFields:function(b){a(b).find(".error-message").remove()},removeSuccessMessageOnFormFields:function(b){a(b).html("").removeClass("formSuccess")},getFormValidationErrors:function(b){var d=b.find(".contact-form-field-container"),e=this.emailRegex,f=this.urlRegex,g=/^\S*/g,h=this.numberRegex,i=0;return a.each(d,a.proxy(function(b,d){var j,k,l=this.formElementsErrorMessages[b],m=!1,n=a(d).find(this.numberQuery),o=1===n.length;if(l=l&&decodeURIComponent(l),a(d).find('input[type="text"]')[0]&&!o&&l)k=a.trim(a(d).find('input[type="text"]').val()),!k.length&&k.match(g)&&(m=!0);else if(a(d).find('input[type="email"]')[0])j=a(d).find('input[type="email"]').val(),(l||j)&&(l=l||decodeURIComponent(this.allFieldErrorMessage[b]),e.test(j)||(m=!0));else if(a(d).find('input[type="url"]')[0])j=a(d).find('input[type="url"]').val(),(l||j)&&(l=l||decodeURIComponent(this.allFieldErrorMessage[b]),f.test(j)||f.test("http://"+j)||(m=!0));else if(o)j=n.val(),(l||j)&&(l=l||decodeURIComponent(this.allFieldErrorMessage[b]),j.match(h)||(m=!0));else if(a(d).find('input[type="tel"]')[0])j=a(d).find('input[type="tel"]').val(),(l||j)&&(l=l||decodeURIComponent(this.allFieldErrorMessage[b]),j.match(h)||(m=!0));else if(a(d).find('input[type="checkbox"]').length>0&&l)a(d).find('input[type="checkbox"]:checked')[0]||(m=!0);else if(a(d).find('input[type="radio"]').length>0&&l)a(d).find('input[type="radio"]:checked')[0]||(m=!0);else if(a(d).find("textarea")[0]&&l)k=a.trim(a(d).find("textarea").val()),!k.length&&k.match(g)&&(m=!0);else if(a(d).find("select")[0]&&l){var p=a(d).find("select").val();p||"--"===p||(m=!0)}var q=a(d).next();m?(q.html(c(l)),i+=1):q.html("&nbsp;")},this)),i},updateFormData:function(b){var c=a(b).find(".contact-form-field-container"),e=Object.keys(this.formData);a.each(c,a.proxy(function(b,c){var f=a(c).find("label").text().replace(" *","");f=d(f,e),e.push(f),a(c).find('input[type="text"]')[0]||a(c).find('input[type="url"]')[0]||a(c).find(this.numberQuery)[0]||a(c).find('input[type="tel"]')[0]?this.formData[f]=a(c).find("input").val():a(c).find('input[type="email"]')[0]?(f="email"===f?"Email":f,this.formData.replyto?this.formData[f]=a(c).find("input").val():this.formData.replyto=this.formData[f]=a(c).find("input").val()):a(c).find('input[type="checkbox"]:checked')[0]?this.formData[f]=a(c).find('input[type="checkbox"]:checked').map(function(b,c){return a(c).val()}).get():a(c).find('input[type="radio"]:checked')[0]?this.formData[f]=a(c).find('input[type="radio"]:checked').val():a(c).find("select")[0]?this.formData[f]=a(c).find("select").val():a(c).find("textarea")[0]&&(this.formData[f]=a(c).find("textarea").val())},this))},getEncodedFormData:function(){var a="";for(var b in this.formData){var c=b;c=b.replace(/[\[\]]+/g,"_"),a+=unescape(encodeURIComponent(escape(c))).replace(/\+/g,"%2B")+"="+unescape(encodeURIComponent(escape(this.formData[b]))).replace(/\+/g,"%2B")+"&"}return a=a.substring(0,a.length-1)},isHiddenFieldEmpty:function(){var b=a(this.contactFormDOM).find('.contact-form-field-container>input[name="some-randome-random"]');return""===b.text()&&""===b.val()},postContactForm:function(){a.ajax({type:"POST",url:this.postURL,beforeSend:function(a){a.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},data:this.getEncodedFormData(),success:a.proxy(this.ajaxSuccess,this),error:a.proxy(this.ajaxError,this)})},ajaxSuccess:function(b){var d=a("#contactFormResponseContainer");/<title>\s*Error/i.test(b)?a(d).html(c(this.errorMessage)).addClass("formError").removeClass("formSuccess"):a(d).html(c(this.successMessage)).addClass("formSuccess").removeClass("formError"),this.resetDocument()},ajaxError:function(){var b=a("#contactFormResponseContainer");a(b).html(this.errorMessage).addClass("formError")},resetDocument:function(){a(this.contactFormDOM).trigger("reset"),this.setDocumentCharset(this.originalCharset)},getDocumentCharset:function(){return document.characterSet||document.charset},setDocumentCharset:function(a){document.charset?document.charset=a:document.characterSet=a}},b}(oneJQuery);